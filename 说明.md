## react 新特性
### context
提供了一种方式，能够让数据在组件树中传递而不必一级一级的手动传递。  
基于createContext 创建一个组件 ，得到Provider 和 Consumer。  
基于createContext使用默认值的时候，一般用于Consumer找不到对应的Provider ，一般用于单元测试。  
多个context， Provider嵌套 Consumer并联。
```js
<BatteryContext.Provider value={battery}>
    <OnlineContext.Provider value={online}>
        <button onClick={() => {
            this.setState({ battery: battery - 1 })
        }}>按钮</button>
        <button onClick={() => {
            this.setState({ online: !online })
        }}>按钮1</button>
        <Middle />
    </OnlineContext.Provider>
</BatteryContext.Provider>


<BatteryContext.Consumer>
    {battery => (
        <OnlineContext.Consumer>
            {online => <h1>battery:{battery},online:{String(online)}</h1>}
        </OnlineContext.Consumer>
    )}
</BatteryContext.Consumer>
```
### contextType
对context的一种补充 。语法糖
当只有一个context的时候使用，简洁很多代码
```js
class Last extends Component {
  static contextType = BatteryContext;//静态属性
  render() {
    const battery = this.context;
    return <h1>battery:{battery}</h1>
  }
}
```
### lazy
允许懒加载组件 不能单独使用 要和Suspense 一起使用
### Suspense
lazy 可能触发loading Suspense来生成这段视觉体验
### memo
类似PureComponent 优化渲染性能